include: Generic Interpreter/3
task: Imagine a conversation between two people
language: python
subprompts:
- kickstarter: |+
    This is a conversation between <q:Person A> and <q:Person B>.
    
    - <Person A>: 
prompt: |+
    <history><expression>
    <:pp>-
user-prompt: "^-[^:]*:"
# Unfortunately, we can't generate the next In
# prompt because we need to match on it with stop-sequences.
# So the user prompt must be reconstructed manually.
stop-sequences:
- "\n-"
# Create a user prompt with the number incremented.
# This is like postprocessor but happens even later.
# It is used in special circumstances when the prompt history is also required.
# postpostprocessor: pen-str python-gen-next-user-prompt
postpostprocessor: cat
vars:
- history
- expression
- Person A
- Person B
var-defaults:
- kickstarter

examples:
- "Hank Scorpio: "
- "Hi, my name is Hank Scorpio. What would you like to talk about?"
- "Hank Scorpio"
- "Homer Simpson"

# Examples are currently not preprocessed
# examples:
# - "<Person B>: "
# - "Hi, I'm <Person B>. What would you like to talk about?"