title: "Write a blog post"
doc: "Given a topic and the number of words, generate a blog post."
prompt-version: 3
prompt: |+
    Write a <n words> words blog post about the <topic>.

lm-command: "openai-complete.sh"
model: "davinci-instruct-beta"
temperature: 0.8
max-generated-tokens: <m:(pen-n-words->n-tokens/m <n words>)>
top-p: 1.0
best-of: 1
no-trim-start: off
no-trim-end: off
# For davinci-instruct-beta, it appears to begin with \n\n, so can't use that
# as stop sequence.
stop-sequences:
- "<delim>"
cache: on
vars:
- "topic"
- n words
examples:
- "iPhone 12"
- "500"
n-test-runs: 5
prettifier: pen-pretty-paragraph
n-collate: 1
n-completions: 10
filter: no
completion: off
insertion: off
info: on
external-related:
- "https://gptprompts.org/p/blog-post-generation"
elisp: |-
    (defmacro pen-n-words->n-tokens/m (n-words)
      `(pen-n-words->n-tokens ,n-words (pen-num token-char-length)))