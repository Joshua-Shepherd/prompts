task: "multiplex"
doc: "Run multiple prompts under one prompt"
in-development: on
notes:
- designed for Codex
prompt-version: 1
# Use the variadic-transformer to transform multiple inputs into prompts.
# I should probably use transducers.
prompt: |+
    Inputs:

    <delim>Prompt 1
    <prompt 1>
    <delim>

    <delim>Prompt 2
    <prompt 2>
    <delim>
    
    Outputs:

    <delim>Prompt 1
engine: "OpenAI Codex"
temperature: 0.3
max-generated-tokens: "(* 2 prompt-length)"
top-p: 1.0
stop-sequences:
- "<delim>"
cache: on
# variadic-transformers:
vars:
- "former"
- "latter"
var-defaults:
- "(detect-language)"
- "(pen-preceding-text)"
examples:
- "boysenberries"
- "strawberries"
preprocessors:
- "sed 's/^/- /'"
- "cat"
filter: on
completion: off
insertion: off
preprocessors:
- pen-str onelineify
postprocessor: pen-str unonelineify | pen-pretty-paragraph